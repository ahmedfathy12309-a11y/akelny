<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Akelny ‚Äî Discover Amazing Food Near You</title>
    <meta name="description" content="Find the best restaurants, fast food, and food places near you with Akelny's intelligent food discovery platform." />
    
             <!-- Google Maps API -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCFvfg8lO7GqLG6d4YpYoryioEw14_Q1sg&libraries=places&callback=initMap"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet" />

    <style>
      :root {
        /* Food-inspired color palette */
        --primary: #ff6b35;      /* Vibrant orange */
        --primary-dark: #e55a2b; /* Darker orange */
        --secondary: #f7931e;    /* Golden yellow */
        --accent: #ff4757;       /* Red accent */
        --success: #2ed573;      /* Green success */
        --warning: #ffa502;      /* Warning yellow */
        
        /* Neutral palette */
        --bg: #0a0a0a;
        --bg-light: #1a1a1a;
        --bg-card: #1f1f1f;
        --bg-card-hover: #2a2a2a;
        --text: #ffffff;
        --text-muted: #b0b0b0;
        --text-secondary: #888888;
        
        /* Borders & shadows */
        --border: #333333;
        --border-light: #444444;
        --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        --shadow-hover: 0 16px 48px rgba(255, 107, 53, 0.2);
        --glow: 0 0 20px rgba(255, 107, 53, 0.3);
        
        /* Gradients */
        --gradient-primary: linear-gradient(135deg, var(--primary), var(--secondary));
        --gradient-secondary: linear-gradient(135deg, var(--secondary), var(--accent));
        --gradient-bg: linear-gradient(135deg, #0a0a0a, #1a1a1a);
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      html, body {
        height: 100%;
        font-family: 'Inter', system-ui, -apple-system, sans-serif;
        background: var(--bg);
        color: var(--text);
        overflow-x: hidden;
      }

      /* Enhanced 3D Food Animations */
      .food-float {
        position: fixed;
        pointer-events: none;
        z-index: -1;
        opacity: 0.8;
        font-size: 3rem;
        text-shadow: 0 0 20px rgba(255, 107, 53, 0.6);
        filter: drop-shadow(0 0 10px rgba(255, 107, 53, 0.4));
        transition: all 0.3s ease;
      }

      .food-float:hover {
        opacity: 1;
        transform: scale(1.2);
        filter: drop-shadow(0 0 20px rgba(255, 107, 53, 0.8));
      }

      .food-float:nth-child(1) {
        top: 8%;
        left: 8%;
        animation: float1 25s ease-in-out infinite;
      }

      .food-float:nth-child(2) {
        top: 15%;
        right: 12%;
        animation: float2 30s ease-in-out infinite;
      }

      .food-float:nth-child(3) {
        bottom: 12%;
        left: 18%;
        animation: float3 22s ease-in-out infinite;
      }

      .food-float:nth-child(4) {
        bottom: 20%;
        right: 25%;
        animation: float4 28s ease-in-out infinite;
      }

      .food-float:nth-child(5) {
        top: 45%;
        left: 2%;
        animation: float5 35s ease-in-out infinite;
      }

      .food-float:nth-child(6) {
        top: 60%;
        right: 5%;
        animation: float6 26s ease-in-out infinite;
      }

      @keyframes float1 {
        0%, 100% { transform: translateY(0px) rotate(0deg) scale(1); }
        25% { transform: translateY(-40px) rotate(90deg) scale(1.1); }
        50% { transform: translateY(-60px) rotate(180deg) scale(1.2); }
        75% { transform: translateY(-40px) rotate(270deg) scale(1.1); }
      }

      @keyframes float2 {
        0%, 100% { transform: translateY(0px) rotate(0deg) scale(1); }
        33% { transform: translateY(-35px) rotate(-120deg) scale(1.15); }
        66% { transform: translateY(-50px) rotate(-240deg) scale(1.3); }
      }

      @keyframes float3 {
        0%, 100% { transform: translateY(0px) rotate(0deg) scale(1); }
        50% { transform: translateY(-45px) rotate(180deg) scale(1.25); }
      }

      @keyframes float4 {
        0%, 100% { transform: translateY(0px) rotate(0deg) scale(1); }
        25% { transform: translateY(-30px) rotate(-90deg) scale(1.1); }
        50% { transform: translateY(-55px) rotate(-180deg) scale(1.2); }
        75% { transform: translateY(-30px) rotate(-270deg) scale(1.1); }
      }

      @keyframes float5 {
        0%, 100% { transform: translateY(0px) rotate(0deg) scale(1); }
        50% { transform: translateY(-25px) rotate(90deg) scale(1.1); }
      }

      @keyframes float6 {
        0%, 100% { transform: translateY(0px) rotate(0deg) scale(1); }
        33% { transform: translateY(-20px) rotate(-60deg) scale(1.05); }
        66% { transform: translateY(-35px) rotate(-120deg) scale(1.1); }
      }

      /* Enhanced Background Effects */
      .bg-grid {
        position: fixed;
        inset: 0;
        background-image: 
          linear-gradient(rgba(255, 107, 53, 0.08) 1px, transparent 1px),
          linear-gradient(90deg, rgba(255, 107, 53, 0.08) 1px, transparent 1px),
          radial-gradient(circle at 25% 25%, rgba(255, 151, 23, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 75% 75%, rgba(255, 71, 87, 0.1) 0%, transparent 50%);
        background-size: 60px 60px, 60px 60px, 200px 200px, 200px 200px;
        z-index: -2;
        animation: gridMove 20s linear infinite;
      }

      .bg-glow {
        position: fixed;
        inset: -50vmax;
        background: 
          radial-gradient(80vmax 60vmax at 20% 20%, rgba(255, 107, 53, 0.15), transparent 60%),
          radial-gradient(70vmax 50vmax at 80% 80%, rgba(255, 151, 23, 0.12), transparent 60%),
          radial-gradient(60vmax 40vmax at 50% 50%, rgba(255, 71, 87, 0.08), transparent 60%);
        filter: blur(50px);
        z-index: -3;
        animation: glowPulse 12s ease-in-out infinite;
      }

      .bg-particles {
        position: fixed;
        inset: 0;
        z-index: -1;
        overflow: hidden;
      }

      .particle {
        position: absolute;
        width: 4px;
        height: 4px;
        background: var(--primary);
        border-radius: 50%;
        opacity: 0.6;
        animation: particleFloat 15s linear infinite;
      }

      .particle:nth-child(1) { left: 10%; animation-delay: 0s; }
      .particle:nth-child(2) { left: 20%; animation-delay: 2s; }
      .particle:nth-child(3) { left: 30%; animation-delay: 4s; }
      .particle:nth-child(4) { left: 40%; animation-delay: 6s; }
      .particle:nth-child(5) { left: 50%; animation-delay: 8s; }
      .particle:nth-child(6) { left: 60%; animation-delay: 10s; }
      .particle:nth-child(7) { left: 70%; animation-delay: 12s; }
      .particle:nth-child(8) { left: 80%; animation-delay: 14s; }

      @keyframes gridMove {
        0% { transform: translate(0, 0); }
        100% { transform: translate(60px, 60px); }
      }

      @keyframes glowPulse {
        0%, 100% { opacity: 0.4; transform: scale(1) rotate(0deg); }
        25% { opacity: 0.6; transform: scale(1.1) rotate(90deg); }
        50% { opacity: 0.8; transform: scale(1.2) rotate(180deg); }
        75% { opacity: 0.6; transform: scale(1.1) rotate(270deg); }
      }

      @keyframes particleFloat {
        0% { 
          top: 100%; 
          opacity: 0; 
          transform: translateY(0) scale(0);
        }
        10% { 
          opacity: 0.6; 
          transform: translateY(0) scale(1);
        }
        90% { 
          opacity: 0.6; 
          transform: translateY(-100vh) scale(1);
        }
        100% { 
          top: -10%; 
          opacity: 0; 
          transform: translateY(-100vh) scale(0);
        }
      }

      /* Enhanced Header */
      .header {
        position: sticky;
        top: 0;
        z-index: 100;
        background: rgba(10, 10, 10, 0.85);
        backdrop-filter: blur(25px);
        border-bottom: 2px solid var(--primary);
        padding: 1.5rem 0;
        box-shadow: 0 8px 32px rgba(255, 107, 53, 0.15);
        transition: all 0.3s ease;
      }

      .header:hover {
        background: rgba(10, 10, 10, 0.95);
        border-bottom-color: var(--secondary);
        box-shadow: 0 12px 40px rgba(255, 107, 53, 0.25);
      }

      .nav {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        text-decoration: none;
        color: var(--text);
      }

      .logo-icon {
        width: 40px;
        height: 40px;
        background: var(--gradient-primary);
        border-radius: 12px;
        display: grid;
        place-items: center;
        font-size: 1.5rem;
        font-weight: 900;
        color: var(--text);
      }

      .logo-text {
        font-family: 'Orbitron', sans-serif;
        font-size: 1.5rem;
        font-weight: 700;
        background: var(--gradient-primary);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .nav-links {
        display: flex;
        align-items: center;
        gap: 2rem;
      }

      .nav-link {
        color: var(--text-muted);
        text-decoration: none;
        font-weight: 500;
        transition: color 0.3s ease;
      }

      .nav-link:hover {
        color: var(--primary);
      }

      .btn {
        background: var(--gradient-primary);
        color: var(--text);
        border: none;
        padding: 0.75rem 1.5rem;
        border-radius: 12px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-block;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-hover);
      }

      .btn-secondary {
        background: transparent;
        border: 2px solid var(--primary);
        color: var(--primary);
      }

      .btn-secondary:hover {
        background: var(--primary);
        color: var(--text);
      }

      /* Main Content */
      .main {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
      }

             /* Enhanced Hero Section */
       .hero {
         text-align: center;
         padding: 6rem 0;
         position: relative;
         overflow: hidden;
       }

       .hero::before {
         content: '';
         position: absolute;
         top: 50%;
         left: 50%;
         width: 200%;
         height: 200%;
         background: radial-gradient(circle, rgba(255, 107, 53, 0.1) 0%, transparent 70%);
         transform: translate(-50%, -50%);
         animation: heroPulse 8s ease-in-out infinite;
         z-index: -1;
       }

       .hero h1 {
         font-size: clamp(3.5rem, 10vw, 6rem);
         font-weight: 900;
         margin-bottom: 2rem;
         background: var(--gradient-primary);
         -webkit-background-clip: text;
         -webkit-text-fill-color: transparent;
         background-clip: text;
         text-shadow: 0 0 30px rgba(255, 107, 53, 0.3);
         animation: heroTextGlow 3s ease-in-out infinite alternate;
       }

       .hero p {
         font-size: 1.4rem;
         color: var(--text-muted);
         margin-bottom: 3rem;
         max-width: 700px;
         margin-left: auto;
         margin-right: auto;
         line-height: 1.6;
         animation: fadeInUp 1s ease-out 0.5s both;
       }

       .hero .btn {
         font-size: 1.1rem;
         padding: 1rem 2rem;
         border-radius: 50px;
         background: var(--gradient-primary);
         box-shadow: 0 8px 32px rgba(255, 107, 53, 0.3);
         animation: fadeInUp 1s ease-out 1s both;
         position: relative;
         overflow: hidden;
       }

       .hero .btn::before {
         content: '';
         position: absolute;
         top: 0;
         left: -100%;
         width: 100%;
         height: 100%;
         background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
         transition: left 0.5s;
       }

       .hero .btn:hover::before {
         left: 100%;
       }

       @keyframes heroPulse {
         0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.3; }
         50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.6; }
       }

       @keyframes heroTextGlow {
         0% { text-shadow: 0 0 30px rgba(255, 107, 53, 0.3); }
         100% { text-shadow: 0 0 50px rgba(255, 107, 53, 0.6); }
       }

       @keyframes fadeInUp {
         from { opacity: 0; transform: translateY(30px); }
         to { opacity: 1; transform: translateY(0); }
       }

       /* 3D Parallax Effects */
       .parallax-section {
         transform-style: preserve-3d;
         perspective: 1000px;
       }

       .parallax-bg {
         position: absolute;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         transform: translateZ(-10px) scale(2);
         z-index: -1;
       }

       /* Enhanced Button Hover Effects */
       .btn-3d {
         position: relative;
         transform-style: preserve-3d;
         transition: all 0.3s ease;
       }

       .btn-3d:hover {
         transform: translateY(-3px) rotateX(10deg);
         box-shadow: 0 15px 35px rgba(255, 107, 53, 0.4);
       }

       .btn-3d::after {
         content: '';
         position: absolute;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
         transform: translateZ(-1px);
         transition: all 0.3s ease;
       }

             /* Enhanced Search Section */
       .search-section {
         background: linear-gradient(135deg, var(--bg-card), var(--bg-card-hover));
         border-radius: 25px;
         padding: 3rem;
         margin: 3rem 0;
         border: 2px solid var(--border);
         box-shadow: var(--shadow);
         position: relative;
         overflow: hidden;
         transition: all 0.3s ease;
       }

       .search-section::before {
         content: '';
         position: absolute;
         top: -50%;
         left: -50%;
         width: 200%;
         height: 200%;
         background: conic-gradient(from 0deg, transparent, rgba(255, 107, 53, 0.1), transparent);
         animation: rotate 20s linear infinite;
         z-index: -1;
       }

       .search-section:hover {
         transform: translateY(-5px);
         border-color: var(--primary);
         box-shadow: 0 20px 60px rgba(255, 107, 53, 0.2);
       }

       .search-section h2 {
         font-size: 2.5rem;
         font-weight: 800;
         margin-bottom: 2rem;
         background: var(--gradient-primary);
         -webkit-background-clip: text;
         -webkit-background-fill-color: transparent;
         background-clip: text;
         text-align: center;
       }

       @keyframes rotate {
         from { transform: rotate(0deg); }
         to { transform: rotate(360deg); }
       }

      .search-form {
        display: grid;
        grid-template-columns: 1fr auto;
        gap: 1rem;
        align-items: end;
      }

      .form-group {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }

      .form-group label {
        font-weight: 600;
        color: var(--text);
      }

             .form-group input,
       .form-group select {
         padding: 1.2rem;
         border: 2px solid var(--border);
         border-radius: 15px;
         background: linear-gradient(135deg, var(--bg-light), var(--bg-card));
         color: var(--text);
         font-size: 1.1rem;
         transition: all 0.3s ease;
         position: relative;
         overflow: hidden;
       }

       .form-group input::before,
       .form-group select::before {
         content: '';
         position: absolute;
         top: 0;
         left: -100%;
         width: 100%;
         height: 100%;
         background: linear-gradient(90deg, transparent, rgba(255, 107, 53, 0.1), transparent);
         transition: left 0.5s;
       }

       .form-group input:focus,
       .form-group select:focus {
         outline: none;
         border-color: var(--primary);
         box-shadow: 0 0 20px rgba(255, 107, 53, 0.3);
         transform: translateY(-2px);
       }

       .form-group input:focus::before,
       .form-group select:focus::before {
         left: 100%;
       }

       /* Location Detection Button */
       .location-input-group {
         display: flex;
         gap: 0.5rem;
         align-items: center;
       }

       .btn-location-detect {
         background: linear-gradient(135deg, #ff6b35, #f7931e);
         color: white;
         border: none;
         border-radius: 12px;
         padding: 1.2rem;
         font-size: 1.2rem;
         cursor: pointer;
         transition: all 0.3s ease;
         min-width: 60px;
         height: 100%;
       }

       .btn-location-detect:hover {
         background: linear-gradient(135deg, #f7931e, #ff6b35);
         transform: scale(1.05);
         box-shadow: 0 5px 15px rgba(255, 107, 53, 0.4);
       }

       /* Radius Select Styling */
       .radius-select {
         appearance: none;
         background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ff6b35' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
         background-repeat: no-repeat;
         background-position: right 1rem center;
         background-size: 1.2rem;
         padding-right: 3rem;
         cursor: pointer;
       }

       .radius-select option {
         background: var(--bg-card);
         color: var(--text);
         padding: 0.5rem;
       }

      /* Results Section */
      .results-section {
        margin: 2rem 0;
      }

      .results-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 1.5rem;
        margin-top: 2rem;
      }

             .restaurant-card {
         background: linear-gradient(135deg, var(--bg-card), var(--bg-card-hover));
         border-radius: 20px;
         padding: 2rem;
         border: 2px solid var(--border);
         transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
         cursor: pointer;
         position: relative;
         overflow: hidden;
       }

       .restaurant-card::before {
         content: '';
         position: absolute;
         top: 0;
         left: -100%;
         width: 100%;
         height: 100%;
         background: linear-gradient(90deg, transparent, rgba(255, 107, 53, 0.1), transparent);
         transition: left 0.6s;
         z-index: 1;
       }

       .restaurant-card:hover {
         transform: translateY(-8px) scale(1.02);
         background: linear-gradient(135deg, var(--bg-card-hover), var(--bg-card));
         border-color: var(--primary);
         box-shadow: 0 25px 80px rgba(255, 107, 53, 0.3);
       }

       .restaurant-card:hover::before {
         left: 100%;
       }

       .restaurant-card > * {
         position: relative;
         z-index: 2;
       }

      .restaurant-header {
        display: flex;
        align-items: flex-start;
        gap: 1rem;
        margin-bottom: 1rem;
      }

      .restaurant-icon {
        width: 60px;
        height: 60px;
        background: var(--gradient-secondary);
        border-radius: 12px;
        display: grid;
        place-items: center;
        font-size: 1.5rem;
        color: var(--text);
      }

      .restaurant-info h3 {
        font-size: 1.25rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
        color: var(--text);
      }

      .restaurant-rating {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-bottom: 0.5rem;
      }

      .stars {
        color: var(--warning);
        font-size: 1rem;
      }

      .rating-text {
        color: var(--text-muted);
        font-size: 0.9rem;
      }

      .restaurant-details {
        display: grid;
        gap: 0.5rem;
        margin-top: 1rem;
      }

      .detail-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--text-muted);
        font-size: 0.9rem;
      }

      .detail-icon {
        width: 16px;
        height: 16px;
        color: var(--primary);
      }

      /* Auth Modal */
      .modal {
        display: none;
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(10px);
        z-index: 1000;
        align-items: center;
        justify-content: center;
        padding: 2rem;
      }

      .modal.active {
        display: flex;
      }

      .modal-content {
        background: var(--bg-card);
        border-radius: 20px;
        padding: 2rem;
        max-width: 500px;
        width: 100%;
        border: 1px solid var(--border);
        box-shadow: var(--shadow);
        position: relative;
      }

      .modal-close {
        position: absolute;
        top: 1rem;
        right: 1rem;
        background: none;
        border: none;
        color: var(--text-muted);
        font-size: 1.5rem;
        cursor: pointer;
        padding: 0.5rem;
        border-radius: 8px;
        transition: all 0.3s ease;
      }

      .modal-close:hover {
        background: var(--bg-light);
        color: var(--text);
      }

      .modal h2 {
        font-size: 1.75rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        text-align: center;
        color: var(--text);
      }

      .auth-form {
        display: grid;
        gap: 1rem;
      }

      .auth-form input {
        padding: 1rem;
        border: 2px solid var(--border);
        border-radius: 12px;
        background: var(--bg-light);
        color: var(--text);
        font-size: 1rem;
        transition: border-color 0.3s ease;
      }

      .auth-form input:focus {
        outline: none;
        border-color: var(--primary);
      }

      .auth-form button {
        margin-top: 1rem;
      }

      .auth-switch {
        text-align: center;
        margin-top: 1rem;
        color: var(--text-muted);
      }

      .auth-switch a {
        color: var(--primary);
        text-decoration: none;
        font-weight: 600;
      }

      .auth-switch a:hover {
        text-decoration: underline;
      }

      /* Map Container */
      .map-container {
        height: 400px;
        border-radius: 16px;
        overflow: hidden;
        margin: 2rem 0;
        border: 1px solid var(--border);
      }

      #map {
        width: 100%;
        height: 100%;
      }

      /* Loading States */
      .loading {
        display: none;
        text-align: center;
        padding: 2rem;
        color: var(--text-muted);
      }

      .loading.active {
        display: block;
      }

      .spinner {
        width: 40px;
        height: 40px;
        border: 4px solid var(--border);
        border-top: 4px solid var(--primary);
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 0 auto 1rem;
      }

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .nav {
          padding: 0 1rem;
        }

        .nav-links {
          display: none;
        }

        .main {
          padding: 1rem;
        }

        .search-form {
          grid-template-columns: 1fr;
        }

        .results-grid {
          grid-template-columns: 1fr;
        }

        .hero h1 {
          font-size: 2.5rem;
        }
      }

             /* 3D Transform Effects */
       .tilt-effect {
         transform-style: preserve-3d;
         perspective: 1000px;
       }

       .tilt-effect:hover {
         transform: rotateX(5deg) rotateY(5deg);
       }

       /* Enhanced Utility Classes */
       .hidden {
         display: none !important;
       }

       .text-center {
         text-align: center;
       }

       .mt-2 {
         margin-top: 2rem;
       }

       .mb-2 {
         margin-bottom: 2rem;
       }

       /* Food-themed Loading Animation */
       .food-loading {
         display: inline-block;
         position: relative;
         width: 80px;
         height: 80px;
       }

       .food-loading div {
         position: absolute;
         border: 4px solid var(--primary);
         opacity: 1;
         border-radius: 50%;
         animation: foodLoading 1.5s cubic-bezier(0, 0.2, 0.8, 1) infinite;
       }

       .food-loading div:nth-child(2) {
         animation-delay: -0.5s;
       }

       @keyframes foodLoading {
         0% {
           top: 36px;
           left: 36px;
           width: 0;
           height: 0;
           opacity: 1;
         }
         100% {
           top: 0px;
           left: 0px;
           width: 72px;
           height: 72px;
           opacity: 0;
         }
       }

       /* Pulse Animation for Loading Icons */
@keyframes pulse {
  0%, 100% { transform: scale(1); opacity: 0.7; }
  50% { transform: scale(1.2); opacity: 1; }
}

/* Admin Panel Styles */
.admin-panel-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(10px);
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: fadeIn 0.3s ease-out;
}

.admin-panel {
  background: linear-gradient(135deg, #1a1a2e, #16213e);
  border-radius: 20px;
  padding: 30px;
  max-width: 90vw;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
  border: 2px solid #ff6b35;
  position: relative;
  animation: slideInUp 0.4s ease-out;
}

.admin-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 30px;
  padding-bottom: 20px;
  border-bottom: 2px solid #ff6b35;
}

.admin-header h2 {
  color: #ff6b35;
  margin: 0;
  font-size: 28px;
  text-shadow: 0 0 20px rgba(255, 107, 53, 0.5);
}

.close-btn {
  background: #ff6b35;
  color: white;
  border: none;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  font-size: 24px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.close-btn:hover {
  background: #f7931e;
  transform: scale(1.1);
}

.admin-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin-bottom: 30px;
}

.stat-card {
  background: linear-gradient(135deg, #ff6b35, #f7931e);
  padding: 20px;
  border-radius: 15px;
  text-align: center;
  color: white;
  box-shadow: 0 10px 30px rgba(255, 107, 53, 0.3);
}

.stat-card h3 {
  margin: 0 0 10px 0;
  font-size: 16px;
  opacity: 0.9;
}

.stat-card p {
  margin: 0;
  font-size: 32px;
  font-weight: bold;
}

.users-table-container {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 15px;
  padding: 20px;
  border: 1px solid rgba(255, 107, 53, 0.3);
}

.users-table-container h3 {
  color: #ff6b35;
  margin: 0 0 20px 0;
  text-align: center;
}

.users-table {
  width: 100%;
  border-collapse: collapse;
  color: white;
}

.users-table th,
.users-table td {
  padding: 12px;
  text-align: left;
  border-bottom: 1px solid rgba(255, 107, 53, 0.3);
}

.users-table th {
  background: rgba(255, 107, 53, 0.2);
  color: #ff6b35;
  font-weight: bold;
}

.users-table tr:hover {
  background: rgba(255, 107, 53, 0.1);
}

.status-badge {
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: bold;
}

.status-badge.verified {
  background: rgba(76, 175, 80, 0.2);
  color: #4caf50;
  border: 1px solid #4caf50;
}

.status-badge.pending {
  background: rgba(255, 193, 7, 0.2);
  color: #ffc107;
  border: 1px solid #ffc107;
}

.role-badge {
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: bold;
}

.role-badge.admin {
  background: rgba(255, 107, 53, 0.2);
  color: #ff6b35;
  border: 1px solid #ff6b35;
}

.role-badge.user {
  background: rgba(33, 150, 243, 0.2);
  color: #2196f3;
  border: 1px solid #2196f3;
}

/* Admin Button Styling */
.admin-btn {
  background: linear-gradient(135deg, #ff6b35, #f7931e) !important;
  color: white !important;
  border: 2px solid #ff6b35 !important;
  box-shadow: 0 4px 15px rgba(255, 107, 53, 0.3) !important;
  animation: adminGlow 2s ease-in-out infinite alternate;
}

.admin-btn:hover {
  background: linear-gradient(135deg, #f7931e, #ff6b35) !important;
  transform: translateY(-2px) !important;
  box-shadow: 0 6px 20px rgba(255, 107, 53, 0.4) !important;
}

@keyframes adminGlow {
  from { box-shadow: 0 4px 15px rgba(255, 107, 53, 0.3); }
  to { box-shadow: 0 4px 25px rgba(255, 107, 53, 0.6); }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideInUp {
  from { 
    opacity: 0;
    transform: translateY(50px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}
    </style>
  </head>
  <body>
         <!-- Enhanced 3D Floating Food Animations -->
     <div class="food-float">üçï</div>
     <div class="food-float">üçî</div>
     <div class="food-float">üçú</div>
     <div class="food-float">üç£</div>
     <div class="food-float">üçï</div>
     <div class="food-float">üçî</div>
     
     <!-- 3D Particle Effects -->
     <div class="bg-particles">
       <div class="particle"></div>
       <div class="particle"></div>
       <div class="particle"></div>
       <div class="particle"></div>
       <div class="particle"></div>
       <div class="particle"></div>
       <div class="particle"></div>
       <div class="particle"></div>
     </div>

    <!-- Background Effects -->
    <div class="bg-grid"></div>
    <div class="bg-glow"></div>

    <!-- Header -->
    <header class="header">
      <nav class="nav">
        <a href="#" class="logo">
          <div class="logo-icon">üçΩÔ∏è</div>
          <span class="logo-text">Akelny</span>
        </a>
        
        <div class="nav-links">
          <a href="#search" class="nav-link">Search</a>
          <a href="#about" class="nav-link">About</a>
          <a href="#contact" class="nav-link">Contact</a>
          <button class="btn btn-secondary" onclick="showAuthModal('login')">Login</button>
          <button class="btn" onclick="showAuthModal('register')">Sign Up</button>
        </div>
      </nav>
    </header>

    <!-- Main Content -->
    <main class="main">
      <!-- Hero Section -->
      <section class="hero">
        <h1>Discover Amazing Food Near You</h1>
        <p>Find the best restaurants, fast food joints, and hidden gems in your area with Akelny's intelligent food discovery platform.</p>
                 <button class="btn btn-3d" onclick="scrollToSearch()">üöÄ Start Exploring üçΩÔ∏è</button>
      </section>

      <!-- Search Section -->
      <section id="search" class="search-section">
        <h2 class="text-center mb-2">Find Your Perfect Meal</h2>
                 <form class="search-form" id="searchForm">
           <div class="form-group">
             <label for="foodType">üçï What are you craving? üçî</label>
             <div style="display: flex; gap: 0.5rem; margin-bottom: 0.5rem;">
               <span style="cursor: pointer; font-size: 1.5rem; transition: all 0.3s ease;" onclick="setFoodType('Pizza')" onmouseover="this.style.transform='scale(1.2)'" onmouseout="this.style.transform='scale(1)'">üçï</span>
               <span style="cursor: pointer; font-size: 1.5rem; transition: all 0.3s ease;" onclick="setFoodType('Burger')" onmouseover="this.style.transform='scale(1.2)'" onmouseout="this.style.transform='scale(1)'">üçî</span>
               <span style="cursor: pointer; font-size: 1.5rem; transition: all 0.3s ease;" onclick="setFoodType('Sushi')" onmouseover="this.style.transform='scale(1.2)'" onmouseout="this.style.transform='scale(1)'">üç£</span>
               <span style="cursor: pointer; font-size: 1.5rem; transition: all 0.3s ease;" onclick="setFoodType('Pasta')" onmouseover="this.style.transform='scale(1.2)'" onmouseout="this.style.transform='scale(1)'">üçù</span>
               <span style="cursor: pointer; font-size: 1.5rem; transition: all 0.3s ease;" onclick="setFoodType('Taco')" onmouseover="this.style.transform='scale(1.2)'" onmouseout="this.style.transform='scale(1)'">üåÆ</span>
               <span style="cursor: pointer; font-size: 1.5rem; transition: all 0.3s ease;" onclick="setFoodType('Salad')" onmouseover="this.style.transform='scale(1.2)'" onmouseout="this.style.transform='scale(1)'">ü•ó</span>
             </div>
             <input type="text" id="foodType" placeholder="e.g., Pizza, Sushi, Burgers..." required>
           </div>
          <div class="form-group">
            <label for="location">Location</label>
            <div class="location-input-group">
              <input type="text" id="location" placeholder="Enter your address or city" required>
              <button type="button" class="btn-location-detect" onclick="detectLocation()" title="Detect my location">
                üìç
              </button>
            </div>
          </div>
          <div class="form-group">
            <label for="radius">Search Radius</label>
            <select id="radius" class="radius-select">
              <option value="1">1 km</option>
              <option value="5" selected>5 km</option>
              <option value="10">10 km</option>
              <option value="25">25 km</option>
            </select>
          </div>
          <button type="submit" class="btn">Search Restaurants</button>
        </form>
      </section>

      <!-- Map Container -->
      <div class="map-container">
        <div id="map"></div>
      </div>

             <!-- Enhanced Loading State -->
       <div class="loading" id="loading">
         <div class="food-loading">
           <div></div>
           <div></div>
         </div>
         <p>üçï Searching for the best restaurants... üçî</p>
         <div style="margin-top: 1rem; font-size: 0.9rem; color: var(--text-muted);">
           <span style="animation: pulse 2s infinite;">üîç</span>
           <span style="animation: pulse 2s infinite 0.5s;">üìç</span>
           <span style="animation: pulse 2s infinite 1s;">‚≠ê</span>
         </div>
       </div>

      <!-- Results Section -->
      <section class="results-section" id="results">
        <h2 class="text-center mb-2">Top Results</h2>
        <div class="results-grid" id="resultsGrid">
          <!-- Restaurant cards will be populated here -->
        </div>
      </section>
    </main>

    <!-- Authentication Modal -->
    <div class="modal" id="authModal">
      <div class="modal-content">
        <button class="modal-close" onclick="closeAuthModal()">&times;</button>
        
        <!-- Login Form -->
        <form class="auth-form" id="loginForm">
          <h2>Welcome Back</h2>
          <input type="email" placeholder="Email" required>
          <input type="password" placeholder="Password" required>
          <button type="submit" class="btn">Login</button>
          <div class="auth-switch">
            Don't have an account? <a href="#" onclick="switchAuthForm('register')">Sign Up</a>
          </div>
        </form>

        <!-- Register Form -->
        <form class="auth-form hidden" id="registerForm">
          <h2>Create Account</h2>
          <input type="text" placeholder="Full Name" required>
          <input type="email" placeholder="Email" required>
          <input type="tel" placeholder="Phone Number" required>
          <input type="text" placeholder="Address" required>
          <input type="password" placeholder="Password (min 6 characters)" required>
          <button type="submit" class="btn">Create Account</button>
          <div class="auth-switch">
            Already have an account? <a href="#" onclick="switchAuthForm('login')">Login</a>
          </div>
        </form>
      </div>
    </div>

    <script>
      // Global variables
      let map;
      let currentUser = null;
      let isAdmin = false;
      let searchResults = [];

                   // Initialize the application
      document.addEventListener('DOMContentLoaded', function() {
        setupEventListeners();
        checkAuthStatus();
        setupScrollAnimations();
        // Map will be initialized by Google Maps API callback
      });

      // Google Maps API callback function
      function initMap() {
        initializeMap();
      }

      // Fallback if Google Maps API fails to load
      window.addEventListener('error', function(e) {
        if (e.target.src && e.target.src.includes('maps.googleapis.com')) {
          console.error('Google Maps API failed to load');
          showNotification('Google Maps failed to load. Please check your internet connection.', 'error');
          
          // Hide map container and show error message
          const mapContainer = document.querySelector('.map-container');
          if (mapContainer) {
            mapContainer.innerHTML = `
              <div style="text-align: center; padding: 2rem; color: var(--text-muted);">
                <h3>üó∫Ô∏è Map Unavailable</h3>
                <p>Google Maps failed to load. You can still search for restaurants by typing a location.</p>
              </div>
            `;
          }
        }
      });

       // Setup scroll-triggered animations
       function setupScrollAnimations() {
         const observerOptions = {
           threshold: 0.1,
           rootMargin: '0px 0px -50px 0px'
         };

         const observer = new IntersectionObserver((entries) => {
           entries.forEach(entry => {
             if (entry.isIntersecting) {
               entry.target.style.animation = 'fadeInUp 0.8s ease-out forwards';
               entry.target.style.opacity = '1';
               entry.target.style.transform = 'translateY(0)';
             }
           });
         }, observerOptions);

         // Observe all sections for animation
         document.querySelectorAll('section').forEach(section => {
           section.style.opacity = '0';
           section.style.transform = 'translateY(30px)';
           section.style.transition = 'all 0.8s ease-out';
           observer.observe(section);
         });
       }

       // Setup mouse parallax effects
       function setupMouseParallax() {
         document.addEventListener('mousemove', (e) => {
           const mouseX = e.clientX / window.innerWidth;
           const mouseY = e.clientY / window.innerHeight;

           // Move floating food elements based on mouse position
           document.querySelectorAll('.food-float').forEach((food, index) => {
             const speed = (index + 1) * 0.5;
             const x = (mouseX - 0.5) * speed * 20;
             const y = (mouseY - 0.5) * speed * 20;
             
             food.style.transform += ` translate(${x}px, ${y}px)`;
           });

           // Move background grid slightly
           const grid = document.querySelector('.bg-grid');
           if (grid) {
             grid.style.transform = `translate(${mouseX * 10}px, ${mouseY * 10}px)`;
           }
         });
       }

       // Initialize mouse parallax
       document.addEventListener('DOMContentLoaded', function() {
         setupMouseParallax();
       });

      // Initialize Google Maps
      function initializeMap() {
        const mapOptions = {
          center: { lat: 30.0444, lng: 31.2357 }, // Cairo, Egypt
          zoom: 12,
          styles: [
            {
              featureType: 'all',
              elementType: 'all',
              stylers: [
                { saturation: -100 },
                { lightness: -20 }
              ]
            },
            {
              featureType: 'road',
              elementType: 'all',
              stylers: [
                { color: '#2c2c2c' }
              ]
            },
            {
              featureType: 'poi',
              elementType: 'all',
              stylers: [
                { visibility: 'off' }
              ]
            }
          ]
        };

        map = new google.maps.Map(document.getElementById('map'), mapOptions);
      }

      // Setup event listeners
      function setupEventListeners() {
        document.getElementById('searchForm').addEventListener('submit', handleSearch);
        document.getElementById('loginForm').addEventListener('submit', handleLogin);
        document.getElementById('registerForm').addEventListener('submit', handleRegister);
      }

      // Handle restaurant search
      async function handleSearch(e) {
        e.preventDefault();
        
        if (!currentUser) {
          showNotification('Please login to search for restaurants', 'warning');
          return;
        }

        const foodType = document.getElementById('foodType').value;
        const location = document.getElementById('location').value;
        const radius = document.getElementById('radius').value;

        showLoading(true);

        try {
          // Real Google Places API call
          const results = await searchRestaurants(foodType, location, radius);
          
          if (results && results.length > 0) {
            displayResults(results);
            updateMap(results);
            showNotification(`Found ${results.length} restaurants!`, 'success');
          } else {
            showNotification('No restaurants found in this area. Try a different location or food type.', 'warning');
          }
        } catch (error) {
          console.error('Search error:', error);
          showNotification('Error searching for restaurants: ' + error.message, 'error');
        } finally {
          showLoading(false);
        }
      }

      // Real Google Places API search
      async function searchRestaurants(foodType, location, radius) {
        try {
          // First, geocode the location to get coordinates
          const geocoder = new google.maps.Geocoder();
          const geocodeResult = await new Promise((resolve, reject) => {
            geocoder.geocode({ address: location }, (results, status) => {
              if (status === 'OK' && results[0]) {
                resolve(results[0].geometry.location);
              } else {
                reject(new Error('Location not found'));
              }
            });
          });

          // Center map on search location
          map.setCenter(geocodeResult);
          map.setZoom(14);

          // Search for restaurants using Places API
          const service = new google.maps.places.PlacesService(map);
          const searchRequest = {
            location: geocodeResult,
            radius: parseInt(radius) * 1000, // Convert km to meters
            type: 'restaurant',
            keyword: foodType
          };

          return new Promise((resolve, reject) => {
            service.nearbySearch(searchRequest, (results, status) => {
              if (status === google.maps.places.PlacesServiceStatus.OK) {
                // Get detailed information for each place
                const detailedResults = results.slice(0, 10).map(place => ({
                  id: place.place_id,
                  name: place.name,
                  rating: place.rating || 'N/A',
                  reviews: place.user_ratings_total || 0,
                  distance: calculateDistance(geocodeResult, place.geometry.location),
                  address: place.vicinity || 'Address not available',
                  phone: 'Phone not available', // Will be updated with details
                  open: place.opening_hours?.isOpen() ? 'Open Now' : 'Closed',
                  price: place.price_level ? '$'.repeat(place.price_level) : 'Price not available',
                  type: foodType,
                  location: place.geometry.location,
                  placeId: place.place_id
                }));

                // Get detailed information for each place
                detailedResults.forEach(place => {
                  getPlaceDetails(place.placeId, (details) => {
                    if (details) {
                      place.phone = details.formatted_phone_number || 'Phone not available';
                      place.website = details.website;
                      place.photos = details.photos;
                    }
                  });
                });

                resolve(detailedResults);
              } else {
                reject(new Error('No restaurants found'));
              }
            });
          });
        } catch (error) {
          console.error('Search error:', error);
          throw new Error('Failed to search for restaurants: ' + error.message);
        }
      }

      // Get detailed place information
      function getPlaceDetails(placeId, callback) {
        const service = new google.maps.places.PlacesService(map);
        const request = {
          placeId: placeId,
          fields: ['formatted_phone_number', 'website', 'photos', 'opening_hours', 'price_level']
        };

        service.getDetails(request, (place, status) => {
          if (status === google.maps.places.PlacesServiceStatus.OK) {
            callback(place);
          } else {
            callback(null);
          }
        });
      }

      // Calculate distance between two points
      function calculateDistance(point1, point2) {
        const R = 6371; // Earth's radius in km
        const lat1 = point1.lat() * Math.PI / 180;
        const lat2 = point2.lat() * Math.PI / 180;
        const deltaLat = (point2.lat() - point1.lat()) * Math.PI / 180;
        const deltaLng = (point2.lng() - point1.lng()) * Math.PI / 180;

        const a = Math.sin(deltaLat / 2) * Math.sin(deltaLat / 2) +
                  Math.cos(lat1) * Math.cos(lat2) *
                  Math.cos(lat2) *
                  Math.sin(deltaLng / 2) * Math.sin(deltaLng / 2);
        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));

        return (R * c).toFixed(1) + ' km';
      }

      // Detect user's current location
      function detectLocation() {
        if (navigator.geolocation) {
          showNotification('Detecting your location...', 'info');
          
          navigator.geolocation.getCurrentPosition(
            async (position) => {
              const { latitude, longitude } = position.coords;
              
              try {
                // Reverse geocode to get address
                const geocoder = new google.maps.Geocoder();
                const latlng = { lat: latitude, lng: longitude };
                
                geocoder.geocode({ location: latlng }, (results, status) => {
                  if (status === 'OK' && results[0]) {
                    const address = results[0].formatted_address;
                    document.getElementById('location').value = address;
                    
                    // Center map on user's location
                    map.setCenter(latlng);
                    map.setZoom(15);
                    
                    // Add user location marker
                    if (window.userLocationMarker) {
                      window.userLocationMarker.setMap(null);
                    }
                    
                    window.userLocationMarker = new google.maps.Marker({
                      position: latlng,
                      map: map,
                      title: 'Your Location',
                      icon: {
                        url: 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(`
                          <svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="15" cy="15" r="12" fill="#4CAF50" stroke="#ffffff" stroke-width="3"/>
                            <circle cx="15" cy="15" r="6" fill="#ffffff"/>
                          </svg>
                        `),
                        scaledSize: new google.maps.Size(30, 30)
                      }
                    });
                    
                    showNotification('Location detected: ' + address, 'success');
                  } else {
                    // If geocoding fails, just use coordinates
                    const locationText = `${latitude.toFixed(4)}, ${longitude.toFixed(4)}`;
                    document.getElementById('location').value = locationText;
                    showNotification('Location detected!', 'success');
                  }
                });
              } catch (error) {
                console.error('Geocoding error:', error);
                // Fallback to coordinates
                const locationText = `${latitude.toFixed(4)}, ${longitude.toFixed(4)}`;
                document.getElementById('location').value = locationText;
                showNotification('Location detected!', 'success');
              }
            },
            (error) => {
              console.error('Geolocation error:', error);
              let errorMessage = 'Location detection failed';
              
              switch(error.code) {
                case error.PERMISSION_DENIED:
                  errorMessage = 'Location access denied. Please allow location access.';
                  break;
                case error.POSITION_UNAVAILABLE:
                  errorMessage = 'Location information unavailable.';
                  break;
                case error.TIMEOUT:
                  errorMessage = 'Location request timed out.';
                  break;
              }
              
              showNotification(errorMessage, 'error');
            },
            {
              enableHighAccuracy: true,
              timeout: 10000,
              maximumAge: 60000
            }
          );
        } else {
          showNotification('Geolocation not supported by your browser', 'error');
        }
      }

      // Display search results
      function displayResults(results) {
        const resultsGrid = document.getElementById('resultsGrid');
        resultsGrid.innerHTML = '';

        results.forEach(restaurant => {
          const card = createRestaurantCard(restaurant);
          resultsGrid.appendChild(card);
        });

        document.getElementById('results').classList.remove('hidden');
      }

             // Create restaurant card with 3D effects
       function createRestaurantCard(restaurant) {
         const card = document.createElement('div');
         card.className = 'restaurant-card tilt-effect';
         
         // Add 3D mouse tracking
         card.addEventListener('mousemove', (e) => {
           const rect = card.getBoundingClientRect();
           const x = e.clientX - rect.left;
           const y = e.clientY - rect.top;
           
           const centerX = rect.width / 2;
           const centerY = rect.height / 2;
           
           const rotateX = (y - centerY) / 10;
           const rotateY = (centerX - x) / 10;
           
           card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateZ(20px)`;
         });
         
         card.addEventListener('mouseleave', () => {
           card.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg) translateZ(0px)';
         });
         
         card.innerHTML = `
          <div class="restaurant-header">
            <div class="restaurant-icon">üçΩÔ∏è</div>
            <div class="restaurant-info">
              <h3>${restaurant.name}</h3>
              <div class="restaurant-rating">
                <span class="stars">${'‚≠ê'.repeat(Math.floor(restaurant.rating))}</span>
                <span class="rating-text">${restaurant.rating} (${restaurant.reviews} reviews)</span>
              </div>
              <span style="color: var(--success); font-weight: 600;">${restaurant.open}</span>
            </div>
          </div>
          <div class="restaurant-details">
            <div class="detail-item">
              <span class="detail-icon">üìç</span>
              <span>${restaurant.distance} away</span>
            </div>
            <div class="detail-item">
              <span class="detail-icon">üè†</span>
              <span>${restaurant.address}</span>
            </div>
            <div class="detail-item">
              <span class="detail-icon">üìû</span>
              <span>${restaurant.phone}</span>
            </div>
            <div class="detail-item">
              <span class="detail-icon">üí∞</span>
              <span>${restaurant.price}</span>
            </div>
          </div>
        `;
        return card;
      }

      // Update map with restaurant markers
      function updateMap(results) {
        // Clear existing markers
        if (window.markers) {
          window.markers.forEach(marker => marker.setMap(null));
        }
        window.markers = [];

        results.forEach((restaurant, index) => {
          const marker = new google.maps.Marker({
            position: restaurant.location || { 
              lat: 30.0444 + (Math.random() - 0.5) * 0.01, 
              lng: 31.2357 + (Math.random() - 0.5) * 0.01 
            },
            map: map,
            title: restaurant.name,
            icon: {
              url: 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(`
                <svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="20" cy="20" r="18" fill="#ff6b35" stroke="#ffffff" stroke-width="2"/>
                  <text x="20" y="25" text-anchor="middle" fill="#ffffff" font-size="16" font-weight="bold">üçΩÔ∏è</text>
                </svg>
              `),
              scaledSize: new google.maps.Size(40, 40)
            }
          });

          const infoWindow = new google.maps.InfoWindow({
            content: `
              <div style="padding: 10px; max-width: 200px;">
                <h3 style="margin: 0 0 5px; color: #333;">${restaurant.name}</h3>
                <p style="margin: 0 0 5px; color: #666;">${restaurant.rating} ‚≠ê (${restaurant.reviews} reviews)</p>
                <p style="margin: 0 0 5px; color: #666;">${restaurant.address}</p>
                <p style="margin: 0; color: #666;">${restaurant.open}</p>
              </div>
            `
          });

          marker.addListener('click', () => {
            infoWindow.open(map, marker);
          });

          window.markers.push(marker);
        });
      }

      // Authentication functions
      function showAuthModal(type) {
        document.getElementById('authModal').classList.add('active');
        switchAuthForm(type);
      }

      function closeAuthModal() {
        document.getElementById('authModal').classList.remove('active');
      }

      function switchAuthForm(type) {
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');

        if (type === 'login') {
          loginForm.classList.remove('hidden');
          registerForm.classList.add('hidden');
        } else {
          loginForm.classList.add('hidden');
          registerForm.classList.remove('hidden');
        }
      }

      async function handleLogin(e) {
        e.preventDefault();
        const formData = new FormData(e.target);
        const email = formData.get('email') || e.target.querySelector('input[type="email"]').value;
        const password = formData.get('password') || e.target.querySelector('input[type="password"]').value;

        try {
          // Simulate API call
          const response = await loginUser(email, password);
          if (response.success) {
            currentUser = response.user;
            isAdmin = response.user.email === 'ahmedfathy12309@gmail.com';
            closeAuthModal();
            showNotification('Login successful!', 'success');
            updateAuthUI();
          }
        } catch (error) {
          showNotification('Login failed: ' + error.message, 'error');
        }
      }

      async function handleRegister(e) {
        e.preventDefault();
        const formData = new FormData(e.target);
        const name = e.target.querySelector('input[type="text"]').value;
        const email = e.target.querySelector('input[type="email"]').value;
        const phone = e.target.querySelector('input[type="tel"]').value;
        const address = e.target.querySelector('input[placeholder="Address"]').value;
        const password = e.target.querySelector('input[type="password"]').value;

        try {
          // Simulate API call
          const response = await registerUser({ name, email, phone, address, password });
          if (response.success) {
            showNotification('Account created! Please check your email to verify.', 'success');
            switchAuthForm('login');
            e.target.reset();
          }
        } catch (error) {
          showNotification('Registration failed: ' + error.message, 'error');
        }
      }

             // Real API calls to backend
       async function loginUser(email, password) {
         try {
           const response = await fetch('http://localhost:3000/api/akelny/auth/login', {
             method: 'POST',
             headers: {
               'Content-Type': 'application/json'
             },
             body: JSON.stringify({ email, password })
           });

           const data = await response.json();
           
           if (!response.ok) {
             throw new Error(data.message || 'Login failed');
           }

           // Store token in localStorage
           localStorage.setItem('userToken', data.token);
           return data;
         } catch (error) {
           throw new Error(error.message || 'Login failed');
         }
       }

       async function registerUser(userData) {
         try {
           const response = await fetch('http://localhost:3000/api/akelny/auth/register', {
             method: 'POST',
             headers: {
               'Content-Type': 'application/json'
             },
             body: JSON.stringify(userData)
           });

           const data = await response.json();
           
           if (!response.ok) {
             throw new Error(data.message || 'Registration failed');
           }

           return data;
         } catch (error) {
           throw new Error(error.message || 'Registration failed');
         }
       }

      // Utility functions
      function showLoading(show) {
        const loading = document.getElementById('loading');
        if (show) {
          loading.classList.add('active');
        } else {
          loading.classList.remove('active');
        }
      }

      function showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.style.cssText = `
          position: fixed;
          top: 20px;
          right: 20px;
          background: ${type === 'success' ? '#2ed573' : type === 'warning' ? '#ffa502' : type === 'error' ? '#ff4757' : '#17a2b8'};
          color: white;
          padding: 15px 20px;
          border-radius: 8px;
          box-shadow: 0 4px 20px rgba(0,0,0,0.2);
          z-index: 10000;
          font-weight: 600;
          max-width: 300px;
        `;
        notification.textContent = message;
        
        document.body.appendChild(notification);
        
        setTimeout(() => {
          notification.remove();
        }, 5000);
      }

      function scrollToSearch() {
        document.getElementById('search').scrollIntoView({ behavior: 'smooth' });
      }

      function checkAuthStatus() {
        // Check if user is already logged in (from localStorage)
        const token = localStorage.getItem('userToken');
        if (token) {
          // Verify token and set user
          currentUser = { name: 'User', email: 'user@example.com' };
          updateAuthUI();
        }
      }

      function updateAuthUI() {
        const navLinks = document.querySelector('.nav-links');
        if (currentUser) {
          navLinks.innerHTML = `
            <a href="#search" class="nav-link">Search</a>
            <a href="#about" class="nav-link">About</a>
            <a href="#contact" class="nav-link">Contact</a>
            <span style="color: var(--primary); font-weight: 600;">Welcome, ${currentUser.name}!</span>
            <button class="btn btn-secondary" onclick="logout()">Logout</button>
            ${isAdmin ? '<button class="btn admin-btn" onclick="showAdminPanel()">üëë Admin Panel</button>' : ''}
          `;
        }
      }

      function logout() {
        currentUser = null;
        isAdmin = false;
        localStorage.removeItem('userToken');
        updateAuthUI();
        showNotification('Logged out successfully', 'success');
      }

      function showAdminPanel() {
  if (isAdmin) {
    fetchAllUsers();
  } else {
    showNotification('Access denied. Admin privileges required.', 'error');
  }
}

async function fetchAllUsers() {
  try {
    const token = localStorage.getItem('userToken');
    if (!token) {
      showNotification('Please login first', 'error');
      return;
    }

    const response = await fetch('http://localhost:3000/api/akelny/admin/users', {
      headers: {
        'Authorization': `Bearer ${token}`
      }
    });

    const data = await response.json();
    
    if (response.ok) {
      displayAdminPanel(data.users);
    } else {
      showNotification(data.message || 'Failed to fetch users', 'error');
    }
  } catch (error) {
    showNotification('Error fetching users: ' + error.message, 'error');
  }
}

function displayAdminPanel(users) {
  // Create admin panel HTML
  const adminHTML = `
    <div class="admin-panel-overlay" onclick="closeAdminPanel()">
      <div class="admin-panel" onclick="event.stopPropagation()">
        <div class="admin-header">
          <h2>üëë Admin Dashboard</h2>
          <button class="close-btn" onclick="closeAdminPanel()">√ó</button>
        </div>
        
        <div class="admin-stats">
          <div class="stat-card">
            <h3>Total Users</h3>
            <p>${users.length}</p>
          </div>
          <div class="stat-card">
            <h3>Verified Users</h3>
            <p>${users.filter(u => u.isVerified).length}</p>
          </div>
          <div class="stat-card">
            <h3>Pending Verification</h3>
            <p>${users.filter(u => !u.isVerified).length}</p>
          </div>
        </div>

        <div class="users-table-container">
          <h3>üìä All Users</h3>
          <table class="users-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Address</th>
                <th>Status</th>
                <th>Role</th>
                <th>Joined</th>
              </tr>
            </thead>
            <tbody>
              ${users.map(user => `
                <tr>
                  <td>${user.name}</td>
                  <td>${user.email}</td>
                  <td>${user.phone}</td>
                  <td>${user.address}</td>
                  <td>
                    <span class="status-badge ${user.isVerified ? 'verified' : 'pending'}">
                      ${user.isVerified ? '‚úÖ Verified' : '‚è≥ Pending'}
                    </span>
                  </td>
                  <td>
                    <span class="role-badge ${user.role === 'admin' ? 'admin' : 'user'}">
                      ${user.role === 'admin' ? 'üëë Admin' : 'üë§ User'}
                    </span>
                  </td>
                  <td>${new Date(user.createdAt).toLocaleDateString()}</td>
                </tr>
              `).join('')}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  `;

  // Add to page
  document.body.insertAdjacentHTML('beforeend', adminHTML);
}

function closeAdminPanel() {
  const adminPanel = document.querySelector('.admin-panel-overlay');
  if (adminPanel) {
    adminPanel.remove();
  }
}

             // Interactive food type selection
       function setFoodType(type) {
         document.getElementById('foodType').value = type;
         document.getElementById('foodType').focus();
         
         // Add a fun animation effect
         const event = new Event('input', { bubbles: true });
         document.getElementById('foodType').dispatchEvent(event);
         
         // Show a fun notification
         showNotification(`üçï ${type} sounds delicious! Let's find the best places! üçΩÔ∏è`, 'success');
       }

       // Close modal when clicking outside
       document.getElementById('authModal').addEventListener('click', function(e) {
         if (e.target === this) {
           closeAuthModal();
         }
       });
    </script>
  </body>
</html>
